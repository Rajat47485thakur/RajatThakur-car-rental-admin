<div class="common-class">
  <div class="common-class-left">
    <div class="merchant_details-heading user-go-back-main">
      <div class="user-go-back-main-inner" (click)="goBack()">
        <img src="../../../assets/img/wallet/user-go-back.png" alt="" />
      </div>
      <h4 class="m-0 cx_heading">Customer Details</h4>
    </div>
  </div>
  <div class="common-class-right">
    <!-- <div class="search-field custom-search" *ngIf="activeTab === 'home'">
        <form class="d-flex align-items-center h-100" action="#">
          <div class="input-group">
            <div class="input-group-prepend bg-transparent">
              <i class="input-group-text border-0 mdi mdi-magnify"></i>
            </div>
            <input type="text" class="form-control bg-transparent border-0" placeholder="Search here"
            (keyup)="seach($event)"  (keydown)="restrickedWord($event)"
         />
          </div>
        </form>
      </div> -->
    <div class="search-field custom-search" *ngIf="activeTab === 'home'">
      <form>
        <div class="search-block-outer">
          <div class="search-icon">
            <i class="mdi mdi-magnify"></i>
          </div>
          <input #searchInput2 type="search" aria-label="Search" class="form-control bg-transparent border-0"
            [placeholder]="'Search By ' + placeholderText" [@slideInOut] (input)="onSearchChange($event,'1')"
            (keydown)="restrickedWord($event)" />
          <div class="close-search" *ngIf="isShowCross" (click)="closeSearch('1')">
            <i class="mdi mdi-close"></i>
          </div>
        </div>
      </form>
    </div>
    <!-- <div class="search-field custom-search" *ngIf="activeTab === 'menu2'">
        <form class="d-flex align-items-center h-100" action="#">
          <div class="input-group">
            <div class="input-group-prepend bg-transparent">
              <i class="input-group-text border-0 mdi mdi-magnify"></i>
            </div>
            <input type="text" class="form-control bg-transparent border-0" placeholder="Search here"
            (keyup)="seach2($event)"  (keydown)="restrickedWord($event)"
         />
          </div>
        </form>
      </div> -->
    <div class="search-field custom-search" *ngIf="activeTab === 'menu2' || activeTab === 'menu3'">
      <form>
        <div class="search-block-outer">
          <div class="search-icon">
            <i class="mdi mdi-magnify"></i>
          </div>
          <input #searchInput3 type="search" aria-label="Search" class="form-control bg-transparent border-0"
            [placeholder]="'Search By ' + placeholderText5" [@slideInOut] (input)="onSearchChange($event,'2')"
            (keydown)="restrickedWord($event)" />
          <div class="close-search" *ngIf="isShowCross5" (click)="closeSearch('2')">
            <i class="mdi mdi-close"></i>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="customer_details">
  <div class="row">
    <div class="col-sm-6">
      <div class="cx_image d-flex">
        <div class="nav-profile-img prof-full">
          <img class='rounded-circle' [src]="
              customer?.picture?.profilePic !== ''
                ? customer?.picture?.profilePic
                : './assets/img/faces/user.png'
          " alt="Customer Image" />
        </div>
        <div class="nav-profile-text user-detail">
          <p class="mb-1 text-black user-name-custom h4">
            {{ customer?.name?.first }} <span *ngIf="customer?.name?.middle">({{ customer?.name?.last }})</span>
            <span class="text-secondary">({{'#ID-'+customer?.manualUserId}}) </span>
          </p>
          <p class="user-detail-custom-heading m-0 h5">{{ customer?.role?.name }}</p>
          <p class="user-detail-custom m-0 h6">{{ customer?.email?.email }}</p>
          <p class="user-detail-custom m-0 h6">
            {{ customer?.phone?.countryCode+ " "}}{{ customer?.phone?.phoneNumber }}
          </p>
        </div>
      </div>
    </div>
    <div class="col-md-6 mb-3">
      <div class="border-bottom-block">
        <form>
          <h4>Account Status</h4>
          <div class="main-permissons">
            <div class="main-permissons-label">
              <label
                [ngStyle]="{color:customer.isActive?'#28B446':'red'}">{{customer.isActive?'Active':'InActive'}}</label>
            </div>
            <div class="main-permissons-toggle">
              <div class="dactivateAccountMain">
                <div class="form-check form-switch custom-switch-checkbox">
                  <div class="form-check form-switch custom-switch-checkbox">
                    <div *ngIf="customer.isActive" class="toggle-on"
                      (click)="activeInactiveChange('false',customer._id)">
                      <div class="toggle-on-circle"> </div>
                    </div>
                    <div *ngIf="!customer.isActive" class="toggle-off"
                      (click)="activeInactiveChange('true',customer._id)">
                      <div class="toggle-off-circle"></div>
                    </div>
                  </div>
                </div>
                <div class="dactivateAccountUpper">
                  <a class="dactivateAccount">Deactive Account</a>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="customer_address">
    <div class="cx_address_header">
      <h4 class="document-left-block-heading2 mb-2">Basic Details</h4>
    </div>
    <div class="row p-3">
      <div class="col-sm-6">
        <span>
          Address : {{user?.docs?.address?.address?.address}}
        </span>
      </div>
      <div class="col-sm-6">
        <span>
          DOB : {{dob}}
        </span>
      </div>
    </div>
  </div>
  <div class="doc_status_ctrl">
    <div class="row">
      <div class="col-md-7">
        <div class="main-document-status border-bottom-block56">
          <div class="main-document-status-label">
            <label>Document Status : </label>
          </div>
          <div class="main-document-status-status">
            <span [ngStyle]="getStrongStyle2(customer?.isVerifiedByAdmin)">
              {{ customer?.isVerifiedByAdmin === false ? 'Pending With Admin' : 'Approved By Admin' }}
            </span>
          </div>
          <div class="main-document-button-block">
            <button class="btn view-document-button"
              [disabled]="customer?.isVerifiedByAdmin == 'NO DATA FOUND' || customer?.isVerifiedByAdmin === 1  || customer?.isVerifiedByAdmin === 5"
              (click)="showDocumentModel()">
              View Document
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal 1 -->
  <div class="modal" id="documentModal" tabindex="-1" role="dialog" [style.display]="documentModelStyle">
    <!-- <div class="modal fade" id="documentModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"> -->
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="custom-modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
            (click)="closeDocumentModelStyle()"></button>
        </div>
        <div class="modal-body">
          <div class="profile-upper-block">
            <div class="profile-upper-block-first">
              <div class="row">
                <div class="col-md-7">
                  <div class="user-profile-image-block">
                    <div class="nav-profile-img prof-full">
                      <img class='rounded-circle'
                        [src]="customer?.picture?.profilePic? customer?.picture?.profilePic: './assets/img/faces/user.png'"
                        alt="Customer Image" />
                    </div>
                    <div class="user-profile-details-doc">
                      <p class="user-name">{{ user?.name?.first }}</p>
                      <p class="user-email">{{ user?.email?.email }}</p>
                      <p class="user-id">#ID-{{ user?.manualUserId }}</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-5">
                  <div class="aadhar-uploaded-upper">
                    <p class="aadharUploaded" [ngStyle]="getStrongStyle2(user?.isVerifiedByAdmin)">
                      {{ user?.isVerifiedByAdmin === false ? 'Pending With Admin' : 'Approved By Admin' }}</p>
                    <div class="green-tik-image" *ngIf="user?.status == 2 || user?.status == 5">
                      <img src="../../assets/img/faces/green-tick.png" alt="img" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="profile-upper-block-second">
              <div class="row custom-row">
                <div class="col-md-3">
                  <div class="">

                  </div>

                </div>
                <div class="col-md-2">
                  <div class="">

                  </div>

                </div>
                <div class="col-md-2">
                  <div class="" style="text-align: center;">
                    <span class="buttons-Names">Status</span>
                  </div>

                </div>
                <div class="col-md-5">
                  <div class="remarks-block" style="text-align: center;">
                    <span>Remarks</span>
                  </div>

                </div>
              </div>
              <div class="row custom-row align-items-center">
                <div class="col-md-3">
                  <div class="d-flex justify-content-center">
                    <span>Driving Licence</span> <span class="text-danger fw-bold">*</span>
                  </div>

                </div>
                <div class="col-md-2">
                  <!-- <div class="view-button" data-bs-toggle="modal" data-bs-target="#documentModalFront"> -->
                  <div class="view-button" (click)="showLicence()">
                    <span>View</span>
                  </div>

                </div>
                <div class="col-md-2">
                  <div class="" style="text-align: center;">
                    <span class="pending" *ngIf="user?.docs?.drivingLicence?.status === 3"><i
                        class="mdi mdi-information"></i></span>
                    <span class="rejected" *ngIf="user?.docs?.drivingLicence?.status === 4"><i
                        class="mdi mdi-close-circle"></i></span>
                    <span class="approved" *ngIf="user?.docs?.drivingLicence?.status === 5"><i
                        class="mdi mdi-checkbox-marked-circle"></i></span>
                    <div class="status-name">{{ docStatus[user?.docs?.drivingLicence?.status] || 'UNKNOWN STATUS' }}
                    </div>
                  </div>

                </div>
                <div class="col-md-5">
                  <div class="custom-textarea" style="text-align: center;">
                    <span *ngIf="user?.docs?.drivingLicence?.status===5; else showRemarks">Document Approved</span>
                    <ng-template #showRemarks>
                      <span>{{user?.docs?.drivingLicence?.reason ?
                        user?.docs?.drivingLicence?.reason : 'No Remarks'}}</span>
                    </ng-template>
                  </div>

                </div>
              </div>
              <div class="row custom-row align-items-center">
                <div class="col-md-3">
                  <div class="d-flex justify-content-center">
                    <span>Govt Id</span> <span class="text-danger fw-bold">*</span>
                  </div>

                </div>
                <div class="col-md-2">
                  <div class="view-button" (click)="showGovtId()">
                    <span>View</span>
                  </div>

                </div>
                <div class="col-md-2">
                  <div class="" style="text-align: center;">
                    <span class="pending" *ngIf="user?.docs?.govtId?.status === 3"><i
                        class="mdi mdi-information"></i></span>
                    <span class="rejected" *ngIf="user?.docs?.govtId?.status === 4"><i
                        class="mdi mdi-close-circle"></i></span>
                    <span class="approved" *ngIf="user?.docs?.govtId?.status === 5"><i
                        class="mdi mdi-checkbox-marked-circle"></i></span>
                    <div class="status-name">{{ docStatus[user?.docs?.govtId?.status] || 'UNKNOWN STATUS' }}</div>
                  </div>

                </div>
                <div class="col-md-5">
                  <div class="custom-textarea" style="text-align: center;">
                    <span *ngIf="user.docs?.govtId.status !==5">{{user?.docs?.govtId?.reason ?
                      user?.docs?.govtId?.reason
                      : 'No Remarks'}}</span>
                    <span *ngIf="user.docs?.govtId.status ===5">Document Approved</span>
                  </div>

                </div>
              </div>
              <div class="row custom-row align-items-center">
                <div class="col-md-3">
                  <div class="d-flex justify-content-center">
                    <span>Address</span><span class="text-danger fw-bold">*</span>
                  </div>

                </div>
                <div class="col-md-2">
                  <div class="view-button" (click)="showEmail()">
                    <span>View</span>
                  </div>

                </div>
                <div class="col-md-2">
                  <div class="" style="text-align: center;">
                    <span class="pending" *ngIf="user?.docs?.address?.status === 3"><i
                        class="mdi mdi-information"></i></span>
                    <span class="rejected" *ngIf="user?.docs?.address?.status === 4"><i
                        class="mdi mdi-close-circle"></i></span>
                    <span class="approved" *ngIf="user?.docs?.address?.status === 5"><i
                        class="mdi mdi-checkbox-marked-circle"></i></span>
                    <div class="status-name">{{docStatus[user?.docs?.address?.status] || 'UNKNOWN STATUS'}}</div>
                  </div>

                </div>
                <div class="col-md-5">
                  <div class="custom-textarea" style="text-align: center;">
                    <span *ngIf="user?.docs?.address?.status !==5">{{user?.docs?.address?.reason ?
                      user?.docs?.address?.reason : 'No Remarks'}}</span>
                    <span *ngIf="user?.docs?.address?.status===5">Document Approved</span>
                  </div>

                </div>
              </div>
              <div class="row custom-row align-items-center" *ngIf="user?.docs?.address?.address?.isLocal ===false">
                <div class="col-md-3">
                  <div class="">
                    <p>Passport</p>
                  </div>

                </div>
                <div class="col-md-2">
                  <div class="view-button" (click)="showAddress()">
                    <span>View</span>
                  </div>
                </div>
                <div class="col-md-2">
                  <div class="" style="text-align: center;">
                    <span class="pending" *ngIf="user?.docs?.passport?.status === 3"><i
                        class="mdi mdi-information"></i></span>
                    <span class="rejected" *ngIf="user?.docs?.passport?.status === 4"><i
                        class="mdi mdi-close-circle"></i></span>
                    <span class="approved" *ngIf="user?.docs?.passport?.status === 5"><i
                        class="mdi mdi-checkbox-marked-circle"></i></span>
                    <div class="status-name">{{docStatus[user?.docs?.passport?.status] || 'NOT UPLOADED'}}</div>
                  </div>

                </div>
                <div class="col-md-5">
                  <div class="custom-textarea" style="text-align: center;">
                    <span *ngIf="user?.docs?.passport?.status !==5">{{user?.docs?.passport?.reason ?
                      user?.docs?.address?.reason : 'No Remarks'}}</span>
                    <span *ngIf="user?.docs?.passport?.status===5">Document Approved</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Modal 2-->
  <!-- <div class="modal fade" id="documentModalFront" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"> -->
  <div class="modal" id="documentModalSuccess" tabindex="-1" role="dialog"
    [style.display]="attachmentModelStyleLicence">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content custom-modal-contant">
        <div class="custom-modal-header">
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"
            (click)="attachmentModelStyleLicenceF()"></button>
        </div>
        <div class="modal-body mt-0">
          <div class="profile-upper-block">
            <div class="profile-upper-block-second">
              <div class="row">
                <div class="col-md-12">
                  <div class="document-left-block">
                    <h4 class="document-left-block-heading2">Driving Licence</h4>
                    <div class="doc_id d-flex">
                      <span class="document-left-block-heading2 m-0">DL No. :</span>
                      <span class="doc_no_style">{{'#-- '+user?.docs?.drivingLicence?.docId}}</span>
                    </div>
                    <div class="doc_img">
                      <span class="document-left-block-heading2 m-0">Document Images</span>
                      <div class="document-aadhar-block2 d-flex">
                        <img class="cstm_img" [src]="user?.docs?.drivingLicence?.images[0]" alt="image" />
                        <img class="cstm_img" [src]="user?.docs?.drivingLicence?.images[1]" alt="image" />
                      </div>
                    </div>
                  </div>
                  <div class="profile-comment-block">
                    <label for="exampleFormControlTextarea1" class="document-left-block-heading2">Comment</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" [(ngModel)]="comment1"
                      rows="3"></textarea>
                    <div class="red-color" *ngIf="isComment1 && comment1 == ''">
                      Comment is required
                    </div>
                  </div>
                  <div class="modal-footer cutom-modal-button-block">
                    <button type="button" class="btn btn-approve" (click)="approvedDocument(1)">
                      Approve
                    </button>
                    <button type="button" class="btn btn-reject"
                      [disabled]="this.comment1 === null || this.comment1 === ''" (click)="rejectDocument(1)">
                      Reject
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal" id="documentModalSuccess" tabindex="-1" role="dialog" [style.display]="attachmentModelStyleGovtId">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content custom-modal-contant">
        <div class="custom-modal-header">
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"
            (click)="attachmentModelStyleGovtIdF()"></button>
        </div>
        <div class="modal-body mt-0">
          <div class="profile-upper-block">
            <div class="profile-upper-block-second">
              <div class="row mb-5">
                <div class="col-md-12">
                  <div class="document-left-block">
                    <h4 class="document-left-block-heading2">Govt Id</h4>
                    <div class="doc_id d-flex">
                      <span class="document-left-block-heading2 m-0">DL No. :</span>
                      <span class="doc_no_style">{{'#-- '+user?.docs?.govtId?.docId}}</span>
                    </div>
                    <div class="doc_img">
                      <span class="document-left-block-heading2 m-0">Document Images</span>
                      <div class="document-aadhar-block2 d-flex">
                        <img class="cstm_img" [src]="user?.docs?.govtId?.images[0]" alt="image" />
                        <img class="cstm_img" [src]="user?.docs?.govtId?.images[1]" alt="image" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <div class="profile-comment-block">
                    <label for="exampleFormControlTextarea1" class="document-left-block-heading2">Comment</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" (ngModelChange)="validateComment()"
                      [(ngModel)]="comment2" rows="3"></textarea>
                    <div class="red-color" *ngIf="isComment2 && comment2 == ''">
                      Comment is required
                    </div>
                  </div>
                  <div class="modal-footer cutom-modal-button-block">
                    <button type="button" class="btn btn-approve" (click)="approvedDocument(2)">
                      Approve
                    </button>
                    <button type="button" class="btn btn-reject"
                      [disabled]="this.comment2 === null || this.comment2 === ''" (click)="rejectDocument(2)">
                      Reject
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal" id="documentModalSuccess" tabindex="-1" role="dialog" [style.display]="attachmentModelStyleEmail">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content custom-modal-contant">
        <div class="custom-modal-header">
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"
            (click)="attachmentModelStyleEmailF()"></button>
        </div>
        <div class="modal-body mt-0">
          <div class="profile-upper-block">
            <div class="profile-upper-block-second">
              <div class="row">
                <div class="col-md-12">

                  <div class="document-left-block">
                    <h4 class="document-left-block-heading2">Address</h4>
                    <div class="doc_id d-flex">
                      <span class="document-left-block-heading2 m-0">Address :</span>
                      <span class="doc_no_style">{{user?.docs?.address?.address?.address}}</span>
                    </div>
                    <div class="doc_img">
                      <span class="document-left-block-heading2 m-0">Document Images</span>
                      <div class="document-aadhar-block2 d-flex">
                        <img class="cstm_img" [src]="user?.docs?.address?.address?.images[0]" alt="image" />
                        <img class="cstm_img" [src]="user?.docs?.address?.address?.images[1]" alt="image" />
                      </div>
                    </div>
                  </div>
                  <div class="profile-comment-block">
                    <label for="exampleFormControlTextarea1" class="document-left-block-heading2">Comment</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" [(ngModel)]="comment3"
                      rows="3"></textarea>
                    <div class="red-color" *ngIf="isComment3 && comment3 == ''">
                      Comment is required
                    </div>
                  </div>
                  <div class="modal-footer cutom-modal-button-block">
                    <button type="button" class="btn btn-approve" (click)="approvedDocument(3)">
                      Approve
                    </button>
                    <button type="button" class="btn btn-reject"
                      [disabled]="this.comment3 === null || this.comment3 === ''" (click)="rejectDocument(3)">
                      Reject
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal" id="documentModalSuccess" tabindex="-1" role="dialog"
    [style.display]="attachmentModelStyleAddress">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content custom-modal-contant">
        <div class="custom-modal-header">
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"
            (click)="attachmentModelStyleAddressF()"></button>
        </div>
        <div class="modal-body mt-0">
          <div class="profile-upper-block">
            <div class="profile-upper-block-second">
              <div class="row">
                <div class="col-md-12">
                  <div class="document-left-block">
                    <h4 class="document-left-block-heading2">Passport</h4>
                    <div class="doc_id d-flex">
                      <span class="document-left-block-heading2 m-0">Passport No. :</span>
                      <span class="doc_no_style">{{'#-- '+user?.docs?.passport?.docId}}</span>
                    </div>
                    <div class="doc_img">
                      <span class="document-left-block-heading2 m-0">Document Images</span>
                      <div class="document-aadhar-block2 d-flex">
                        <img class="cstm_img" [src]="user?.docs?.passport?.images[0]" alt="image" />
                        <img class="cstm_img" [src]="user?.docs?.passport?.images[1]" alt="image" />
                      </div>
                    </div>
                  </div>
                  <div class="profile-comment-block">
                    <label for="exampleFormControlTextarea1" class="document-left-block-heading2">Comment</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" [(ngModel)]="comment4"
                      rows="3"></textarea>
                    <div class="red-color" *ngIf="isComment4 && comment4 == ''">
                      Comment is required
                    </div>
                  </div>
                  <div class="modal-footer cutom-modal-button-block">
                    <button type="button" class="btn btn-approve" (click)="approvedDocument(4)">
                      Approve
                    </button>
                    <button type="button" class="btn btn-reject"
                      [disabled]="this.comment4 === null || this.comment4 === ''" (click)="rejectDocument(4)">
                      Reject
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal 3-->
  <div class="modal fade" id="documentModalBack" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content custom-modal-contant">
        <div class="custom-modal-header">
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="profile-upper-block">
            <div class="profile-upper-block-second">
              <div class="row">
                <div class="col-md-12">
                  <div class="document-left-block">
                    <p class="document-left-block-heading2">Backside</p>
                    <div class="document-aadhar-block2">
                      <img [src]="user?.govtId?.images?.[1]" alt="image" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="modal" id="documentModalSuccess" tabindex="-1" role="dialog" [style.display]="aprrovedModelStyle">
    <div class="modal-dialog small-modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="custom-modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
            (click)="aprrovedCloseModel()"></button>
        </div>
        <div class="modal-body">
          <div class="document-approved-main">
            <div class="document-approved-main-image">
              <img src="../../assets/img/faces/document-tick.png" alt="" />
            </div>
            <p class="document-approved-main-successfully">
              Documents Approved Successfully!
            </p>
            <p class="document-approved-main-id">#ID-{{ user?._id }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal 5 document reject-->
  <div class="modal" id="documentModalReject" tabindex="-1" role="dialog" [style.display]="modelStyle">
    <div class="modal-dialog small-modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content custom-modal-content">
        <div class="custom-modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="closeModel()"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="document-approved-main">
            <div class="document-reject-main-image">
              <img src="../../assets/img/faces/document-reject.png" alt="" />
            </div>
            <p class="document-reject-main-successfully">Documents Rejected</p>
            <p class="document-reject-main-id">#ID-{{ user?._id }}</p>
          </div>
          <div class="reject-comment">
            <p class="document-reject-main-id">
              Comments <span style="color: black"> :</span>
            </p>
            <p *ngIf="documentType === 1" class="reject-comment-inner">{{comment1}}</p>
            <p *ngIf="documentType === 2" class="reject-comment-inner">{{comment2}}</p>
            <p *ngIf="documentType === 3" class="reject-comment-inner">{{comment3}}</p>
            <p *ngIf="documentType === 4" class="reject-comment-inner">{{comment4}}</p>

          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="custom-dynamic-pills">

    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link active" (click)="onTabChange('home')" data-bs-toggle="tab" href="#home">List of
          bookings</a>
      </li>

      <!-- <li class="nav-item">
          <a class="nav-link" data-bs-toggle="tab" href="#menu1">MDR Transactions</a>
        </li> -->
      <li class="nav-item">
        <a class="nav-link" (click)="onTabChange('menu2')" data-bs-toggle="tab" href="#menu2">List of the
          transactions</a>
      </li>
    </ul>

    <div class="tab-content">
      <div class="tab-pane p-0 container active" id="home">
        <div class="card-dsh">
          <div class="table-responsive user-table pending-invoice">
            <!-- <div class="merchant-wid-right merchant-wid-right4">
                    <span>Sort by</span>
                    <select class="form-select" style="padding-top: 0px; padding-bottom: 0px;" aria-label="Default select example" (change)="onOptionChange2($event.target.value)">
                        <option value=1>High LP First</option>
                        <option value=-1 selected>Low LP First</option>
                      </select>
                </div> -->
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Ratings</th>
                  <th>Email ID</th>
                  <th>Phone</th>
                  <th> Reg. Date</th>
                  <th>No. of Active Business</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of settlement">
                  <td [routerLink]="['/settlement/merchant_details',item._id]" class="custom-open-link"
                    *ngIf="item?.merchantId">{{item?.merchantId}}</td>
                  <td *ngIf="!item?.merchantId">--</td>
                  <td>{{item?.businessCount? item?.businessCount:'--'}}</td>
                  <td>
                    <div class="rating-block">
                      <i class="mdi mdi-star yellow-star"></i>
                      <i class="mdi mdi-star yellow-star"></i>
                      <i class="mdi mdi-star yellow-star"></i>
                      <i class="mdi mdi-star-half yellow-star"></i>
                      <i class="mdi mdi-star gray-star"></i>

                    </div>
                  </td>
                  <td>{{item?.businessCount? item?.businessCount:'--'}}</td>
                  <td>{{item?.loyaltyPointGiven? item?.loyaltyPointGiven:'--'}}</td>
                  <td>--</td>
                  <td>--</td>
                  <td>--</td>
                </tr>

              </tbody>
            </table>
            <div class="no-result-found" *ngIf="settlement?.length == 0">
              No result found
            </div>
          </div>
          <div class="next-previous-button-block">
            <button class="btn btn-previous" *ngIf="currentPage > 1" (click)="paginationAndSorting('PREVIOUS')">
              Previous
            </button>
            <button class="btn btn-next" (click)="paginationAndSorting('NEXT')"
              *ngIf="totalPage > 1 && totalPage != currentPage">
              Next
            </button>
          </div>
          <div class="page-count" *ngIf="totalPage >= 1">
            <p>Page {{ currentPage }} of {{ totalPage }}</p>
          </div>
        </div>
      </div>
      <div class="tab-pane p-0 container fade" id="menu1">...</div>
      <div class="tab-pane p-0 container fade" id="menu2">
        <div class="card-dsh">
          <div class="merchant-wid">
            <div class="merchant-wid-left">
              <span>Withdrawal</span>
            </div>
            <div class="merchant-wid-right">
              <span>Sort by</span>
              <select class="form-select" style="padding-top: 0px; padding-bottom: 0px;"
                aria-label="Default select example" (change)="onOptionChange($event.target.value)">
                <option value=0 selected>All</option>
                <option value=1>Pending</option>
                <option value=2>Completed</option>
              </select>
            </div>
          </div>
          <div class="table-responsive user-table merchant-withdrawal-table">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Merchant ID</th>
                  <th>Merchant Name</th>
                  <th>Total Wallet Balance</th>
                  <th>Money Request</th>
                  <th>Business ID</th>
                  <th>Business Name</th>
                  <th>Account Number </th>
                  <th>Account Holder Name </th>
                  <th>Swift Code</th>
                  <th>Bank Name</th>
                  <th>Status</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of withdrowellSettlement">
                  <td>{{item?.merchantId ? item?.merchantId : '--'}}</td>
                  <td>{{item?.merchantName ? item?.merchantName : '--'}}</td>
                  <td><span class="philippines-curency">₱</span> {{item?.totalBalanceRemaining}}</td>
                  <td><span class="philippines-curency">₱</span> {{item?.amount}}</td>
                  <td>{{item?.businessId}}</td>
                  <td>{{item?.businessName}}</td>
                  <td>{{item?.bankDetails[0]?.bankAccNo}}</td>
                  <td>{{item?.bankDetails[0]?.accHolderName}}</td>
                  <td>{{item?.bankDetails[0]?.bankIFSC}}</td>
                  <td>{{item?.bankDetails[0]?.bankName}}</td>
                  <td [ngStyle]="{'color': item?.isApproved ? 'green' : 'red'}">{{item?.isApproved ?
                    'Completed':'Pending'}}</td>
                  <td>
                    <div class="action-block">
                      <button class="mark-complete-button"
                        [ngStyle]="{'pointer-events': item?.isApproved ? 'none' : 'auto', 'opacity': item?.isApproved ? '0.65' : '1'}"
                        [disabled]="item?.isApproved" (click)="attachment3(item._id)">Mark Completed</button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="no-result-found" *ngIf="withdrowellSettlement?.length == 0">
              No result found
            </div>
          </div>
          <div class="next-previous-button-block">
            <button class="btn btn-previous" *ngIf="currentPage2 > 1" (click)="paginationAndSorting2('PREVIOUS')">
              Previous
            </button>
            <button class="btn btn-next" (click)="paginationAndSorting2('NEXT')"
              *ngIf="totalPage2 > 1 && totalPage2 != currentPage2">
              Next
            </button>
          </div>
          <div class="page-count">
            <p>Page {{ currentPage2 }} of {{ totalPage2 }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="documentModalSuccess" tabindex="-1" role="dialog" [style.display]="attachmentModelStyle4">
    <div class="modal-dialog small-modal-custom modal-dialog-centered">
      <div class="modal-content">
        <div class="custom-modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
            (click)="attacmentCloseModel3()"></button>
        </div>
        <div class="modal-body p-0">

          <div class="profile-upper-block">
            Are you sure you want to<br /> {{activeInactiveString}} this Customer?
          </div>
          <div class="button-block-yes-no">
            <button class="btn-yes" (click)="activeInactiveChange2()">YES</button>
            <button class="btn-no" (click)="attacmentCloseModel3()">NO</button>
          </div>
        </div>
      </div>
    </div>
  </div>